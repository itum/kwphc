# راهنمای وارد کردن سمینارها

## مقدمه
این پلاگین قابلیت وارد کردن خودکار سمینارها و کارگاه‌ها از وب‌سرویس دانشگاه را فراهم می‌کند.

## مشکلات حل شده

### 1. مشکل جایگذاری اطلاعات مدرس و زمان برگزاری
**مشکل:** اطلاعات مدرس و زمان برگزاری در متاباکس نمایش داده نمی‌شد.

**راه حل:** 
- نام‌های فیلدهای متا اصلاح شدند
- از `seminar_teacher` به `_seminar_teacher` تغییر یافت
- از `seminar_time` به `_seminar_time` تغییر یافت
- از `seminar_button_text` به `_seminar_button_text` تغییر یافت

### 2. مشکل دانلود تصاویر
**مشکل:** تصاویر سمینارها دانلود و تنظیم نمی‌شدند.

**راه حل:**
- تابع `sideload_image_and_set_thumbnail` بهبود یافت
- بررسی اعتبار URL تصاویر اضافه شد
- بررسی وجود فایل در سرور اضافه شد
- لاگ‌گیری برای دیباگ اضافه شد

### 3. مشکل نمایش سمینارهای وارد شده
**مشکل:** راهی برای مشاهده سمینارهای وارد شده وجود نداشت.

**راه حل:**
- دکمه "مشاهده سمینارهای وارد شده" اضافه شد
- تابع AJAX برای دریافت لیست سمینارها اضافه شد
- نمایش کامل اطلاعات هر سمینار با تصاویر و جزئیات

## نحوه استفاده

### 1. احراز هویت
1. به بخش "تنظیمات عمومی" بروید
2. نام کاربری و رمز عبور خود را وارد کنید
3. روی "ورود" کلیک کنید

### 2. وارد کردن سمینارها
1. پس از احراز هویت، روی "وارد کردن سمینارها به وردپرس" کلیک کنید
2. منتظر بمانید تا عملیات کامل شود
3. نتیجه عملیات نمایش داده می‌شود

### 3. مشاهده سمینارهای وارد شده
1. روی "مشاهده سمینارهای وارد شده" کلیک کنید
2. لیست کامل سمینارها با جزئیات نمایش داده می‌شود
3. می‌توانید هر سمینار را ویرایش یا مشاهده کنید

## اطلاعات ذخیره شده

هر سمینار شامل اطلاعات زیر است:

### اطلاعات اصلی
- **عنوان:** عنوان سمینار
- **محتوا:** توضیحات کامل سمینار
- **خلاصه:** مخاطبین سمینار

### فیلدهای سفارشی
- **مدرس:** `_seminar_teacher`
- **زمان برگزاری:** `_seminar_time`
- **عنوان دکمه:** `_seminar_button_text`
- **لینک دکمه:** `_seminar_button_link`

### اطلاعات اضافی
- **کد دوره:** `_um_course_code`
- **مدت زمان:** `_um_seminar_duration`
- **مخاطبین:** `_um_seminar_audience`
- **هزینه:** `_um_seminar_fee`
- **تلفن پشتیبانی:** `_um_seminar_support_tel`

### تصویر شاخص
- تصویر سمینار به عنوان Featured Image تنظیم می‌شود
- از فیلدهای `SeminarPic` یا `Boroshor` استفاده می‌شود

## عیب‌یابی

### مشکل دانلود تصاویر
اگر تصاویر دانلود نمی‌شوند:

1. **بررسی لاگ‌ها:** در فایل error.log وردپرس بررسی کنید
2. **بررسی URL:** مطمئن شوید URL تصاویر درست است
3. **بررسی دسترسی:** مطمئن شوید سرور به تصاویر دسترسی دارد

### مشکل نمایش اطلاعات
اگر اطلاعات در متاباکس نمایش داده نمی‌شود:

1. **بررسی نام فیلدها:** مطمئن شوید نام فیلدها با `_` شروع می‌شود
2. **بررسی متاباکس:** مطمئن شوید متاباکس درست ثبت شده
3. **بررسی ذخیره:** مطمئن شوید اطلاعات ذخیره شده‌اند

## لاگ‌گیری

برای دیباگ، لاگ‌های زیر اضافه شده‌اند:

```
UM Import: Processing seminar - Title: [عنوان], Teacher: [مدرس], Date: [تاریخ], Image: [تصویر]
UM Import: Image downloaded successfully for post [ID]: [نام فایل]
UM Import: Failed to download image for post [ID]: [نام فایل]
UM Import: No valid image found for post [ID]
UM Import Seminars Summary: [آمار]
```

## نکات مهم

1. **احراز هویت:** قبل از وارد کردن سمینارها، حتماً وارد شوید
2. **تصاویر:** تصاویر از سرور دانشگاه دانلود می‌شوند
3. **تکرار:** سمینارهای تکراری به‌روزرسانی می‌شوند
4. **زمان:** عملیات ممکن است چند دقیقه طول بکشد
5. **حافظه:** برای جلوگیری از خطا، حافظه افزایش یافته است

## پشتیبانی

در صورت بروز مشکل:
1. لاگ‌های وردپرس را بررسی کنید
2. تنظیمات احراز هویت را بررسی کنید
3. اتصال به اینترنت را بررسی کنید
4. با پشتیبانی تماس بگیرید 